{"ast":null,"code":"import _defineProperty from \"/home/denis/jun/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/denis/jun/src/Components/comments/index.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport dayjs from 'dayjs';\nimport S from './styles';\nimport img from \"../../static/images/like.png\";\nexport class Comments extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      comments: [],\n      form: {\n        name: '',\n        comment: ''\n      }\n    };\n\n    this.addComment = () => {\n      this.setState({\n        comments: [...this.state.comments, {\n          id: this.state.comments.length ? this.state.comments.reduce((p, c) => p.id > c.id ? p : c).id + 1 : 1,\n          // max id +1\n          name: this.state.form.name,\n          comment: this.state.form.comment,\n          date: new Date()\n        }],\n        form: {\n          name: '',\n          comment: ''\n        }\n      }, () => localStorage.setItem('state', JSON.stringify(this.state)));\n    };\n\n    this.removeComment = id => {\n      this.setState({\n        comments: this.state.comments.filter(comment => comment.id !== id)\n      }, () => localStorage.setItem('state', JSON.stringify(this.state)));\n    };\n\n    this.handleChange = e => {\n      console.log(e.target.name);\n      this.setState({\n        form: _objectSpread({}, this.state.form, {\n          [e.target.name]: e.target.value\n        })\n      });\n    };\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('state')) {\n      this.setState(_objectSpread({}, JSON.parse(localStorage.getItem('state'))));\n    }\n  }\n\n  render() {\n    return React.createElement(S.Comments, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, this.state.comments.length > 10 ? React.createElement(\"img\", {\n      className: \"like\",\n      src: img,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }) : null, this.state.comments.map((comment, index) => React.createElement(\"div\", {\n      key: comment.id,\n      className: index % 2 === 0 ? \"right\" : \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        fontStyle: 'italic'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, dayjs(comment.date).format(\"DD.MM.YYYY в HH:mm\"), \": \"), React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, comment.name, \", \"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, comment.comment))), React.createElement(S.AddComment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"\\u0418\\u043C\\u044F: \", React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.form.name,\n      name: \"name\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439: \", React.createElement(\"textarea\", {\n      name: \"comment\",\n      value: this.state.form.comment,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: this.addComment,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\")));\n  }\n\n}","map":{"version":3,"sources":["/home/denis/jun/src/Components/comments/index.jsx"],"names":["React","Component","dayjs","S","img","Comments","state","comments","form","name","comment","addComment","setState","id","length","reduce","p","c","date","Date","localStorage","setItem","JSON","stringify","removeComment","filter","handleChange","e","console","log","target","value","componentDidMount","getItem","parse","render","map","index","fontStyle","format"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport dayjs from 'dayjs'\nimport S from './styles';\nimport img from \"../../static/images/like.png\";\n\n\nexport class Comments extends Component {\n\n  state = {\n    comments: [],\n    form: {\n      name: '',\n      comment: ''\n    }\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('state')) {\n      this.setState({ ...JSON.parse(localStorage.getItem('state')) })\n    }\n  }\n\n  addComment = () => {\n    this.setState({\n      comments: [\n        ...this.state.comments,\n        {\n          id: this.state.comments.length ? this.state.comments.reduce((p, c) => p.id > c.id ? p : c).id + 1 : 1, // max id +1\n          name: this.state.form.name,\n          comment: this.state.form.comment,\n          date: new Date()\n        }\n      ],\n      form: {\n        name: '',\n        comment: ''\n      }\n    }, () => localStorage.setItem('state', JSON.stringify(this.state)))\n  }\n\n  removeComment = (id) => {\n    this.setState({\n      comments: this.state.comments.filter(comment => comment.id !== id)\n    }, () => localStorage.setItem('state', JSON.stringify(this.state)))\n  }\n\n  handleChange = (e) => {\n    console.log(e.target.name)\n    this.setState({\n      form: {\n        ...this.state.form,\n        [e.target.name]: e.target.value,\n      }\n    })\n  }\n\n  render() {\n    return (\n      <S.Comments>\n        {this.state.comments.length > 10 ? <img className=\"like\" src={img} /> : null}\n        {this.state.comments.map((comment, index) => <div key={comment.id}  className={index % 2 === 0 ? \"right\" : \"left\"}>\n          <span style={{ fontStyle: 'italic' }}>{dayjs(comment.date).format(\"DD.MM.YYYY в HH:mm\")}: </span>\n          <strong>{comment.name}, </strong>\n            <span>{comment.comment}</span>\n          {/*<button onClick={this.removeComment.bind(null, comment.id)}>Удалить комментарий</button>*/}\n        </div>)}\n        <S.AddComment>\n          <label>Имя: <input\n            type=\"text\"\n            value={this.state.form.name}\n            name=\"name\"\n            onChange={this.handleChange} /></label>\n          <label>Комментарий: <textarea\n            name=\"comment\"\n            value={this.state.form.comment}\n            onChange={this.handleChange}></textarea>\n          </label>\n          <button onClick={this.addComment}>Добавить комментарий</button>\n        </S.AddComment>\n      </S.Comments>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}